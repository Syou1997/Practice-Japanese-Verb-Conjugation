:root {
  --bg-1: #ffe1f0;
  --bg-2: #d8f0ff;
  --text: #222;
  --muted: #555;
  --line: rgba(0, 0, 0, .15);

  --primary: #ff4d88;   /* ピンク（メイン） */
  --accent:  #4dabff;   /* 水色（裏面） */
  --accent2: #ffd84d;   /* イエロー（補助） */
  --danger:  #ff4d4d;

  --card: #ffffffee;
  --radius: 22px;
  --shadow: 0 10px 28px rgba(0,0,0,.18);
}

body.bg {
  min-height: 100vh;
  background: radial-gradient(1200px 600px at 20% -10%, rgba(255, 200, 240, .5), transparent 58%),
              radial-gradient(1200px 600px at 100% 110%, rgba(170, 220, 255, .6), transparent 60%),
              linear-gradient(135deg, var(--bg-1), var(--bg-2));
  display: flex;
  flex-direction: column;
  font-family: "Segoe UI", "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
}

/* Header / Footer */
.topbar {
  display: flex; justify-content: space-between; align-items: center; gap: 12px;
  padding: 16px 24px; background: rgba(255,255,255,.75); backdrop-filter: blur(10px);
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
}
.topbar h1 { margin: 0; font-size: clamp(22px, 3vw, 34px); font-weight: 900; color: var(--primary); }
.audio-bar { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.footer { padding: 14px; text-align: center; color: var(--muted); font-size: 14px; }

/* Container */
.container { flex: 1; display: flex; align-items: center; justify-content: center; padding: clamp(12px, 3vw, 28px); }
.card-panel, .game-area {
  background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow);
  padding: clamp(18px, 3vw, 36px); width: 100%; max-width: min(1000px, 92vw);
}
.section-title { font-weight: 800; margin-top: 10px; font-size: clamp(18px, 2.2vw, 22px); color: var(--primary); }
.mt-20 { margin-top: 20px; }

/* Select */
.select {
  width: 100%; padding: 14px 16px; border-radius: 14px; border: 2px solid var(--line);
  font-size: clamp(16px, 1.8vw, 18px); background: #fff; color: var(--text);
}

/* Chips */
.chip-row { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 10px; }
.chip {
  padding: 10px 16px; border: 2px solid var(--line); border-radius: 999px; cursor: pointer;
  background: #fff; font-size: clamp(16px, 1.8vw, 18px); transition: transform .15s ease;
}
.chip input { margin-right: 6px; }
.chip:has(input:checked) {
  background: linear-gradient(180deg, var(--primary), #ff7aa9);
  color: #fff; border-color: var(--primary); transform: translateY(-2px);
}

/* Buttons */
/* 按鈕禁用狀態 */
.btn-primary:disabled {
  background: #ccc;
  color: #666;
  cursor: not-allowed;
  box-shadow: none;
}

.btn, .btn-primary, .btn-ghost {
  border: none; cursor: pointer;
  padding: clamp(12px, 1.2vw, 16px) clamp(18px, 2vw, 22px);
  border-radius: 999px; font-weight: 800; font-size: clamp(16px, 1.8vw, 18px);
  transition: transform .2s, box-shadow .3s, filter .2s;
}
.btn { background: #eee; }
.btn-primary { background: var(--primary); color: #fff; box-shadow: 0 10px 18px rgba(255,77,136,.25); }
.btn-ghost { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
.btn:hover { transform: translateY(-2px); filter: brightness(1.05); }

/* Switch & Range */
.switch { display: inline-flex; align-items: center; gap: 8px; font-size: 16px; }
.switch.small { font-size: 13px; }
.range-wrap { display: inline-flex; align-items: center; gap: 6px; }
.range-wrap.small { font-size: 12px; color: var(--muted); }
.range-wrap input[type="range"] {
  appearance: none; width: 120px; height: 8px; border-radius: 999px;
  background: #e7e7e7; outline: none; border: 1px solid var(--line);
}
.range-wrap input[type="range"]::-webkit-slider-thumb {
  appearance: none; width: 18px; height: 18px; border-radius: 50%;
  background: var(--primary); box-shadow: 0 0 0 3px rgba(255,77,136,.18);
}


/* Progress */
.progress { text-align: center; font-size: clamp(16px, 2vw, 20px); color: var(--muted); margin: 14px 0 8px; }
.progressbar { height: 14px; border-radius: 999px; background: #e9e9e9; overflow: hidden; border: 1px solid var(--line); }
.progressbar-fill {
  height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent), var(--accent2));
  width: 0%; transition: width .3s;
}

/* Card */
.flip-card { width: 100%; height: clamp(240px, 48vh, 420px); perspective: 1200px; cursor: pointer; margin: 18px 0; }
.flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform .6s cubic-bezier(.4,.2,.2,1); transform-style: preserve-3d; }
.flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
.flip-face {
  position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
  font-size: clamp(30px, 5.2vw, 56px); font-weight: 900; letter-spacing: .02em; color: #fff;
  border-radius: var(--radius); backface-visibility: hidden; box-shadow: 0 14px 28px rgba(0,0,0,.12);
}
.front { background: linear-gradient(160deg, var(--primary), #ff6ea0); }
.back  { background: linear-gradient(160deg, var(--accent), #7cc4ff); transform: rotateY(180deg); }

/* Controls */
.ctrl-row { display: flex; justify-content: center; gap: clamp(12px, 2vw, 24px); margin-top: 8px; }

/* Word select */
.word-select-wrap { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
.word-select-wrap label { font-size: clamp(14px, 1.6vw, 16px); color: var(--muted); }

/* Error */
.error { color: var(--danger); font-size: clamp(14px, 1.6vw, 16px); margin-top: 8px; }

/* Modal (dialog) */
.modal::backdrop { background: rgba(0,0,0,.35); }
.modal .modal-card {
  background: var(--card); border-radius: 16px; box-shadow: var(--shadow);
  padding: 18px; min-width: min(440px, 92vw);
}
.modal-header h2 { margin: 0 0 8px; color: var(--primary); font-weight: 800; }
.modal-body .modal-text { margin: 6px 0 18px; font-size: 16px; color: var(--text); }
.modal-footer { display: flex; justify-content: flex-end; }

/* RWD */
@media (max-width: 720px) {
  .audio-bar { gap: 8px; }
  .range-wrap input[type="range"] { width: 90px; }
}
@media (max-width: 480px) {
  .btn, .btn-primary, .btn-ghost { font-size: 15px; padding: 10px 16px; }
  .flip-face { font-size: 28px; }
}
